<launch>  
	<!-- Arguments -->
  <arg name="map_file" default="$(find mm_navigation)/maps/test3_map.yaml"/>
  <arg name="camera" default="camera"/>
  <arg name="rviz" default="true"/>
  <arg name="keyboard" default="true"/>
  <arg name="rgbd" default="true"/>

  <!-- Map server -->
  <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)"/>

  <!-- Keboard -->
  <node if="$(arg keyboard)" pkg="teleop_twist_keyboard" name="teleop_twist_keyboard" type="teleop_twist_keyboard.py" output="screen"/>

  <!-- Construct and voxelize the point cloud (for fast visualization in rviz) -->
  <node pkg="nodelet" type="nodelet" name="points_xyzrgb" args="standalone rtabmap_ros/point_cloud_xyzrgb">
    <remap from="rgbd_image"      to="/rgbd_image/compressed"/>
    <remap from="cloud"           to="voxel_cloud" />

    <param name="queue_size" type="int" value="10"/>
    <param name="voxel_size" type="double" value="0.01"/>
  </node>

  <!-- rviz -->
  <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz" required="true" args="-d $(find mm_navigation)/rviz/mm_keyboard_navigation.rviz"/>

</launch>